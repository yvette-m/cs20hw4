<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Joe's Hotdog</title>
<link rel="stylesheet" href="hotdog.css">
<style type="text/css">
    .item {width: 110px; display: inline-block;}
    .price {width: 100px; display: inline-block; text-align: right;}
</style>
</head>

<body>
    <h2>Joe's Hotdog Stand</h2>
    <h3>MENU</h3>

    <script language="javascript">

        //constant prices for each food item
        const PRICES = [3.75, 3, 2.50];
        const ITEMS = ["Hotdogs", "French Fries", "Drinks"];

        //prompt the user for number of each item
        numDogs = prompt("How many Hotdogs do you want?");
        numFries = prompt("How many Fries do you want?");
        numSoda = prompt("How many Sodas do you want?");
            
        //MENU
        document.write("Price of Hotdogs: $3.75" + "<br>");
        document.write("Price of Fries: $3.00" + "<br>");
        document.write("Price of Sodas: $2.50" + "<br>");
        document.write("<br><br>")

        //quantity of item and their prices
        document.write("Quantity of Hotdogs: " + numDogs + "<br>");
        document.write("Quantity of Fries: " + numFries + "<br>");
        document.write("Quantity of Sodas: " + numSoda + "<br>");
        document.write("<br>");

        //total of individual items
        dog_total = numDogs*3.75;
        fries_total = numFries*3;
        soda_total = numSoda*2.5;

        //make sure that all number have zeros
        let dog = count(dog_total);
        dtotals = add(dog, dog_total);

        let fry = count(fries_total);
        ftotals = add(fry, fries_total);

        let soda = count(soda_total);
        stotals = add(soda, soda_total);

        //Print out the total spent on each individual item
        document.write("Total spent on Hotdogs: $" + dtotals + "<br>");
        document.write("Total spent on Fries: $" + ftotals + "<br>");
        document.write("Total spent on Sodas: $" + stotals + "<br>");
        document.write("<br><br>")

        //set the discounted total to zero
        discounted_total = 0;

        //what the price of the items at add to
        total = numDogs*3.75 + numFries*3 + numSoda*2.50;
        let before_round = roundit(total);

        document.write("Subtotal before discount: $" + before_round + "<br>");

        //checks to see if discount is applicable
        if(total >= 25) {
            discount = .1*total;
            let discount_round = roundit(discount);
            discounted_total = total - discount_round;
            let discount_total_round = roundit(discounted_total);
            document.write("Discount: $" + discount_round + "<br>");
            document.write("Subtotal after discount: $" + discount_total_round + "<br>");
        }

        //make discounted equal to total if the discount was added
        if(discounted_total != 0) {
            total = discounted_total;
        }

        //calculate the MA tax and round it
        tax = .0625*total;
        let tax_round = roundit(tax);
        
        //gives the final total after discount and tax
        final_total = total + tax_round;
        let final_round = roundit(final_total);

        //print the final prices and how much was paid in taxes
        document.write("Tax amount: $" + tax_round + "<br>");
        document.write("Final total: $" + final_round + "<br>");

        //function to round numbers to be currency standards
        function roundit(rounded) {
            
            let round = Math.round(rounded * 100) / 100;
            let count_decimals = count(round);
            let new_round = add(count_decimals, round);

            document.write("");
            return new_round;
        }

        function count(value) {
            if(Math.floor(value) == value) {
                return 0;
            }
            return value.toString().split(".")[1].length || 0;
        }

        function add(num_dec, round_it) {
            if(num_dec == 1) {
                round_it = round_it + '0';
            }else if(num_dec == 0){
                round_it = round_it + '.00';
            }
            return round_it;
        }

    </script>
</body>
</html>